{
  "version": 3,
  "sources": ["../../../../../../node_modules/@firebase/data-connect/dist/index.esm2017.js"],
  "sourcesContent": ["import { _isFirebaseServerApp, _removeServiceInstance, getApp, _getProvider, _registerComponent, registerVersion, SDK_VERSION as SDK_VERSION$1 } from '@firebase/app';\nimport { Component } from '@firebase/component';\nimport { FirebaseError } from '@firebase/util';\nimport { Logger } from '@firebase/logger';\n\nconst name = \"@firebase/data-connect\";\nconst version = \"0.3.0\";\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/** The semver (www.semver.org) version of the SDK. */\nlet SDK_VERSION = '';\n/**\n * SDK_VERSION should be set before any database instance is created\n * @internal\n */\nfunction setSDKVersion(version) {\n    SDK_VERSION = version;\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * @internal\n * Abstraction around AppCheck's token fetching capabilities.\n */\nclass AppCheckTokenProvider {\n    constructor(app, appCheckProvider) {\n        this.appCheckProvider = appCheckProvider;\n        if (_isFirebaseServerApp(app) && app.settings.appCheckToken) {\n            this.serverAppAppCheckToken = app.settings.appCheckToken;\n        }\n        this.appCheck = appCheckProvider === null || appCheckProvider === void 0 ? void 0 : appCheckProvider.getImmediate({ optional: true });\n        if (!this.appCheck) {\n            void (appCheckProvider === null || appCheckProvider === void 0 ? void 0 : appCheckProvider.get().then(appCheck => (this.appCheck = appCheck)).catch());\n        }\n    }\n    getToken() {\n        if (this.serverAppAppCheckToken) {\n            return Promise.resolve({ token: this.serverAppAppCheckToken });\n        }\n        if (!this.appCheck) {\n            return new Promise((resolve, reject) => {\n                // Support delayed initialization of FirebaseAppCheck. This allows our\n                // customers to initialize the RTDB SDK before initializing Firebase\n                // AppCheck and ensures that all requests are authenticated if a token\n                // becomes available before the timoeout below expires.\n                setTimeout(() => {\n                    if (this.appCheck) {\n                        this.getToken().then(resolve, reject);\n                    }\n                    else {\n                        resolve(null);\n                    }\n                }, 0);\n            });\n        }\n        return this.appCheck.getToken();\n    }\n    addTokenChangeListener(listener) {\n        var _a;\n        void ((_a = this.appCheckProvider) === null || _a === void 0 ? void 0 : _a.get().then(appCheck => appCheck.addTokenListener(listener)));\n    }\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst Code = {\n    OTHER: 'other',\n    ALREADY_INITIALIZED: 'already-initialized',\n    NOT_INITIALIZED: 'not-initialized',\n    NOT_SUPPORTED: 'not-supported',\n    INVALID_ARGUMENT: 'invalid-argument',\n    PARTIAL_ERROR: 'partial-error',\n    UNAUTHORIZED: 'unauthorized'\n};\n/** An error returned by a DataConnect operation. */\nclass DataConnectError extends FirebaseError {\n    /** @hideconstructor */\n    constructor(\n    /**\n     * The backend error code associated with this error.\n     */\n    code, \n    /**\n     * A custom error description.\n     */\n    message) {\n        super(code, message);\n        this.code = code;\n        this.message = message;\n        // HACK: We write a toString property directly because Error is not a real\n        // class and so inheritance does not work correctly. We could alternatively\n        // do the same \"back-door inheritance\" trick that FirebaseError does.\n        this.toString = () => `${this.name}: [code=${this.code}]: ${this.message}`;\n    }\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst logger = new Logger('@firebase/data-connect');\nfunction setLogLevel(logLevel) {\n    logger.setLogLevel(logLevel);\n}\nfunction logDebug(msg) {\n    logger.debug(`DataConnect (${SDK_VERSION}): ${msg}`);\n}\nfunction logError(msg) {\n    logger.error(`DataConnect (${SDK_VERSION}): ${msg}`);\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// @internal\nclass FirebaseAuthProvider {\n    constructor(_appName, _options, _authProvider) {\n        this._appName = _appName;\n        this._options = _options;\n        this._authProvider = _authProvider;\n        this._auth = _authProvider.getImmediate({ optional: true });\n        if (!this._auth) {\n            _authProvider.onInit(auth => (this._auth = auth));\n        }\n    }\n    getToken(forceRefresh) {\n        if (!this._auth) {\n            return new Promise((resolve, reject) => {\n                setTimeout(() => {\n                    if (this._auth) {\n                        this.getToken(forceRefresh).then(resolve, reject);\n                    }\n                    else {\n                        resolve(null);\n                    }\n                }, 0);\n            });\n        }\n        return this._auth.getToken(forceRefresh).catch(error => {\n            if (error && error.code === 'auth/token-not-initialized') {\n                logDebug('Got auth/token-not-initialized error.  Treating as null token.');\n                return null;\n            }\n            else {\n                logError('Error received when attempting to retrieve token: ' +\n                    JSON.stringify(error));\n                return Promise.reject(error);\n            }\n        });\n    }\n    addTokenChangeListener(listener) {\n        var _a;\n        (_a = this._auth) === null || _a === void 0 ? void 0 : _a.addAuthTokenListener(listener);\n    }\n    removeTokenChangeListener(listener) {\n        this._authProvider\n            .get()\n            .then(auth => auth.removeAuthTokenListener(listener))\n            .catch(err => logError(err));\n    }\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst QUERY_STR = 'query';\nconst MUTATION_STR = 'mutation';\nconst SOURCE_SERVER = 'SERVER';\nconst SOURCE_CACHE = 'CACHE';\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nlet encoderImpl;\nfunction setEncoder(encoder) {\n    encoderImpl = encoder;\n}\nsetEncoder(o => JSON.stringify(o));\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction setIfNotExists(map, key, val) {\n    if (!map.has(key)) {\n        map.set(key, val);\n    }\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction getRefSerializer(queryRef, data, source) {\n    return function toJSON() {\n        return {\n            data,\n            refInfo: {\n                name: queryRef.name,\n                variables: queryRef.variables,\n                connectorConfig: Object.assign({ projectId: queryRef.dataConnect.app.options.projectId }, queryRef.dataConnect.getSettings())\n            },\n            fetchTime: Date.now().toLocaleString(),\n            source\n        };\n    };\n}\nclass QueryManager {\n    constructor(transport) {\n        this.transport = transport;\n        this._queries = new Map();\n    }\n    track(queryName, variables, initialCache) {\n        const ref = {\n            name: queryName,\n            variables,\n            refType: QUERY_STR\n        };\n        const key = encoderImpl(ref);\n        const newTrackedQuery = {\n            ref,\n            subscriptions: [],\n            currentCache: initialCache || null,\n            lastError: null\n        };\n        // @ts-ignore\n        setIfNotExists(this._queries, key, newTrackedQuery);\n        return this._queries.get(key);\n    }\n    addSubscription(queryRef, onResultCallback, onErrorCallback, initialCache) {\n        const key = encoderImpl({\n            name: queryRef.name,\n            variables: queryRef.variables,\n            refType: QUERY_STR\n        });\n        const trackedQuery = this._queries.get(key);\n        const subscription = {\n            userCallback: onResultCallback,\n            errCallback: onErrorCallback\n        };\n        const unsubscribe = () => {\n            const trackedQuery = this._queries.get(key);\n            trackedQuery.subscriptions = trackedQuery.subscriptions.filter(sub => sub !== subscription);\n        };\n        if (initialCache && trackedQuery.currentCache !== initialCache) {\n            logDebug('Initial cache found. Comparing dates.');\n            if (!trackedQuery.currentCache ||\n                (trackedQuery.currentCache &&\n                    compareDates(trackedQuery.currentCache.fetchTime, initialCache.fetchTime))) {\n                trackedQuery.currentCache = initialCache;\n            }\n        }\n        if (trackedQuery.currentCache !== null) {\n            const cachedData = trackedQuery.currentCache.data;\n            onResultCallback({\n                data: cachedData,\n                source: SOURCE_CACHE,\n                ref: queryRef,\n                toJSON: getRefSerializer(queryRef, trackedQuery.currentCache.data, SOURCE_CACHE),\n                fetchTime: trackedQuery.currentCache.fetchTime\n            });\n            if (trackedQuery.lastError !== null && onErrorCallback) {\n                onErrorCallback(undefined);\n            }\n        }\n        trackedQuery.subscriptions.push({\n            userCallback: onResultCallback,\n            errCallback: onErrorCallback,\n            unsubscribe\n        });\n        if (!trackedQuery.currentCache) {\n            logDebug(`No cache available for query ${queryRef.name} with variables ${JSON.stringify(queryRef.variables)}. Calling executeQuery.`);\n            const promise = this.executeQuery(queryRef);\n            // We want to ignore the error and let subscriptions handle it\n            promise.then(undefined, err => { });\n        }\n        return unsubscribe;\n    }\n    executeQuery(queryRef) {\n        if (queryRef.refType !== QUERY_STR) {\n            throw new DataConnectError(Code.INVALID_ARGUMENT, `ExecuteQuery can only execute query operation`);\n        }\n        const key = encoderImpl({\n            name: queryRef.name,\n            variables: queryRef.variables,\n            refType: QUERY_STR\n        });\n        const trackedQuery = this._queries.get(key);\n        const result = this.transport.invokeQuery(queryRef.name, queryRef.variables);\n        const newR = result.then(res => {\n            const fetchTime = new Date().toString();\n            const result = Object.assign(Object.assign({}, res), { source: SOURCE_SERVER, ref: queryRef, toJSON: getRefSerializer(queryRef, res.data, SOURCE_SERVER), fetchTime });\n            trackedQuery.subscriptions.forEach(subscription => {\n                subscription.userCallback(result);\n            });\n            trackedQuery.currentCache = {\n                data: res.data,\n                source: SOURCE_CACHE,\n                fetchTime\n            };\n            return result;\n        }, err => {\n            trackedQuery.lastError = err;\n            trackedQuery.subscriptions.forEach(subscription => {\n                if (subscription.errCallback) {\n                    subscription.errCallback(err);\n                }\n            });\n            throw err;\n        });\n        return newR;\n    }\n    enableEmulator(host, port) {\n        this.transport.useEmulator(host, port);\n    }\n}\nfunction compareDates(str1, str2) {\n    const date1 = new Date(str1);\n    const date2 = new Date(str2);\n    return date1.getTime() < date2.getTime();\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst CallerSdkTypeEnum = {\n    Base: 'Base', // Core JS SDK\n    Generated: 'Generated', // Generated JS SDK\n    TanstackReactCore: 'TanstackReactCore', // Tanstack non-generated React SDK\n    GeneratedReact: 'GeneratedReact', // Tanstack non-generated Angular SDK\n    TanstackAngularCore: 'TanstackAngularCore', // Tanstack non-generated Angular SDK\n    GeneratedAngular: 'GeneratedAngular' // Generated Angular SDK\n};\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction urlBuilder(projectConfig, transportOptions) {\n    const { connector, location, projectId: project, service } = projectConfig;\n    const { host, sslEnabled, port } = transportOptions;\n    const protocol = sslEnabled ? 'https' : 'http';\n    const realHost = host || `firebasedataconnect.googleapis.com`;\n    let baseUrl = `${protocol}://${realHost}`;\n    if (typeof port === 'number') {\n        baseUrl += `:${port}`;\n    }\n    else if (typeof port !== 'undefined') {\n        logError('Port type is of an invalid type');\n        throw new DataConnectError(Code.INVALID_ARGUMENT, 'Incorrect type for port passed in!');\n    }\n    return `${baseUrl}/v1beta/projects/${project}/locations/${location}/services/${service}/connectors/${connector}`;\n}\nfunction addToken(url, apiKey) {\n    if (!apiKey) {\n        return url;\n    }\n    const newUrl = new URL(url);\n    newUrl.searchParams.append('key', apiKey);\n    return newUrl.toString();\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nlet connectFetch = globalThis.fetch;\nfunction getGoogApiClientValue(_isUsingGen, _callerSdkType) {\n    let str = 'gl-js/ fire/' + SDK_VERSION;\n    if (_callerSdkType !== CallerSdkTypeEnum.Base &&\n        _callerSdkType !== CallerSdkTypeEnum.Generated) {\n        str += ' js/' + _callerSdkType.toLowerCase();\n    }\n    else if (_isUsingGen || _callerSdkType === CallerSdkTypeEnum.Generated) {\n        str += ' js/gen';\n    }\n    return str;\n}\nfunction dcFetch(url, body, { signal }, appId, accessToken, appCheckToken, _isUsingGen, _callerSdkType) {\n    if (!connectFetch) {\n        throw new DataConnectError(Code.OTHER, 'No Fetch Implementation detected!');\n    }\n    const headers = {\n        'Content-Type': 'application/json',\n        'X-Goog-Api-Client': getGoogApiClientValue(_isUsingGen, _callerSdkType)\n    };\n    if (accessToken) {\n        headers['X-Firebase-Auth-Token'] = accessToken;\n    }\n    if (appId) {\n        headers['x-firebase-gmpid'] = appId;\n    }\n    if (appCheckToken) {\n        headers['X-Firebase-AppCheck'] = appCheckToken;\n    }\n    const bodyStr = JSON.stringify(body);\n    logDebug(`Making request out to ${url} with body: ${bodyStr}`);\n    return connectFetch(url, {\n        body: bodyStr,\n        method: 'POST',\n        headers,\n        signal\n    })\n        .catch(err => {\n        throw new DataConnectError(Code.OTHER, 'Failed to fetch: ' + JSON.stringify(err));\n    })\n        .then(async (response) => {\n        let jsonResponse = null;\n        try {\n            jsonResponse = await response.json();\n        }\n        catch (e) {\n            throw new DataConnectError(Code.OTHER, JSON.stringify(e));\n        }\n        const message = getMessage(jsonResponse);\n        if (response.status >= 400) {\n            logError('Error while performing request: ' + JSON.stringify(jsonResponse));\n            if (response.status === 401) {\n                throw new DataConnectError(Code.UNAUTHORIZED, message);\n            }\n            throw new DataConnectError(Code.OTHER, message);\n        }\n        return jsonResponse;\n    })\n        .then(res => {\n        if (res.errors && res.errors.length) {\n            const stringified = JSON.stringify(res.errors);\n            logError('DataConnect error while performing request: ' + stringified);\n            throw new DataConnectError(Code.OTHER, stringified);\n        }\n        return res;\n    });\n}\nfunction getMessage(obj) {\n    if ('message' in obj) {\n        return obj.message;\n    }\n    return JSON.stringify(obj);\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nclass RESTTransport {\n    constructor(options, apiKey, appId, authProvider, appCheckProvider, transportOptions, _isUsingGen = false, _callerSdkType = CallerSdkTypeEnum.Base) {\n        var _a, _b;\n        this.apiKey = apiKey;\n        this.appId = appId;\n        this.authProvider = authProvider;\n        this.appCheckProvider = appCheckProvider;\n        this._isUsingGen = _isUsingGen;\n        this._callerSdkType = _callerSdkType;\n        this._host = '';\n        this._location = 'l';\n        this._connectorName = '';\n        this._secure = true;\n        this._project = 'p';\n        this._accessToken = null;\n        this._appCheckToken = null;\n        this._lastToken = null;\n        // TODO(mtewani): Update U to include shape of body defined in line 13.\n        this.invokeQuery = (queryName, body) => {\n            const abortController = new AbortController();\n            // TODO(mtewani): Update to proper value\n            const withAuth = this.withRetry(() => dcFetch(addToken(`${this.endpointUrl}:executeQuery`, this.apiKey), {\n                name: `projects/${this._project}/locations/${this._location}/services/${this._serviceName}/connectors/${this._connectorName}`,\n                operationName: queryName,\n                variables: body\n            }, abortController, this.appId, this._accessToken, this._appCheckToken, this._isUsingGen, this._callerSdkType));\n            return withAuth;\n        };\n        this.invokeMutation = (mutationName, body) => {\n            const abortController = new AbortController();\n            const taskResult = this.withRetry(() => {\n                return dcFetch(addToken(`${this.endpointUrl}:executeMutation`, this.apiKey), {\n                    name: `projects/${this._project}/locations/${this._location}/services/${this._serviceName}/connectors/${this._connectorName}`,\n                    operationName: mutationName,\n                    variables: body\n                }, abortController, this.appId, this._accessToken, this._appCheckToken, this._isUsingGen, this._callerSdkType);\n            });\n            return taskResult;\n        };\n        if (transportOptions) {\n            if (typeof transportOptions.port === 'number') {\n                this._port = transportOptions.port;\n            }\n            if (typeof transportOptions.sslEnabled !== 'undefined') {\n                this._secure = transportOptions.sslEnabled;\n            }\n            this._host = transportOptions.host;\n        }\n        const { location, projectId: project, connector, service } = options;\n        if (location) {\n            this._location = location;\n        }\n        if (project) {\n            this._project = project;\n        }\n        this._serviceName = service;\n        if (!connector) {\n            throw new DataConnectError(Code.INVALID_ARGUMENT, 'Connector Name required!');\n        }\n        this._connectorName = connector;\n        (_a = this.authProvider) === null || _a === void 0 ? void 0 : _a.addTokenChangeListener(token => {\n            logDebug(`New Token Available: ${token}`);\n            this._accessToken = token;\n        });\n        (_b = this.appCheckProvider) === null || _b === void 0 ? void 0 : _b.addTokenChangeListener(result => {\n            const { token } = result;\n            logDebug(`New App Check Token Available: ${token}`);\n            this._appCheckToken = token;\n        });\n    }\n    get endpointUrl() {\n        return urlBuilder({\n            connector: this._connectorName,\n            location: this._location,\n            projectId: this._project,\n            service: this._serviceName\n        }, { host: this._host, sslEnabled: this._secure, port: this._port });\n    }\n    useEmulator(host, port, isSecure) {\n        this._host = host;\n        if (typeof port === 'number') {\n            this._port = port;\n        }\n        if (typeof isSecure !== 'undefined') {\n            this._secure = isSecure;\n        }\n    }\n    onTokenChanged(newToken) {\n        this._accessToken = newToken;\n    }\n    async getWithAuth(forceToken = false) {\n        var _a;\n        let starterPromise = new Promise(resolve => resolve(this._accessToken));\n        if (this.appCheckProvider) {\n            this._appCheckToken = (_a = (await this.appCheckProvider.getToken())) === null || _a === void 0 ? void 0 : _a.token;\n        }\n        if (this.authProvider) {\n            starterPromise = this.authProvider\n                .getToken(/*forceToken=*/ forceToken)\n                .then(data => {\n                if (!data) {\n                    return null;\n                }\n                this._accessToken = data.accessToken;\n                return this._accessToken;\n            });\n        }\n        else {\n            starterPromise = new Promise(resolve => resolve(''));\n        }\n        return starterPromise;\n    }\n    _setLastToken(lastToken) {\n        this._lastToken = lastToken;\n    }\n    withRetry(promiseFactory, retry = false) {\n        let isNewToken = false;\n        return this.getWithAuth(retry)\n            .then(res => {\n            isNewToken = this._lastToken !== res;\n            this._lastToken = res;\n            return res;\n        })\n            .then(promiseFactory)\n            .catch(err => {\n            // Only retry if the result is unauthorized and the last token isn't the same as the new one.\n            if ('code' in err &&\n                err.code === Code.UNAUTHORIZED &&\n                !retry &&\n                isNewToken) {\n                logDebug('Retrying due to unauthorized');\n                return this.withRetry(promiseFactory, true);\n            }\n            throw err;\n        });\n    }\n    _setCallerSdkType(callerSdkType) {\n        this._callerSdkType = callerSdkType;\n    }\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n *\n * @param dcInstance Data Connect instance\n * @param mutationName name of mutation\n * @param variables variables to send with mutation\n * @returns `MutationRef`\n */\nfunction mutationRef(dcInstance, mutationName, variables) {\n    dcInstance.setInitialized();\n    const ref = {\n        dataConnect: dcInstance,\n        name: mutationName,\n        refType: MUTATION_STR,\n        variables: variables\n    };\n    return ref;\n}\n/**\n * @internal\n */\nclass MutationManager {\n    constructor(_transport) {\n        this._transport = _transport;\n        this._inflight = [];\n    }\n    executeMutation(mutationRef) {\n        const result = this._transport.invokeMutation(mutationRef.name, mutationRef.variables);\n        const withRefPromise = result.then(res => {\n            const obj = Object.assign(Object.assign({}, res), { source: SOURCE_SERVER, ref: mutationRef, fetchTime: Date.now().toLocaleString() });\n            return obj;\n        });\n        this._inflight.push(result);\n        const removePromise = () => (this._inflight = this._inflight.filter(promise => promise !== result));\n        result.then(removePromise, removePromise);\n        return withRefPromise;\n    }\n}\n/**\n * Execute Mutation\n * @param mutationRef mutation to execute\n * @returns `MutationRef`\n */\nfunction executeMutation(mutationRef) {\n    return mutationRef.dataConnect._mutationManager.executeMutation(mutationRef);\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst FIREBASE_DATA_CONNECT_EMULATOR_HOST_VAR = 'FIREBASE_DATA_CONNECT_EMULATOR_HOST';\n/**\n *\n * @param fullHost\n * @returns TransportOptions\n * @internal\n */\nfunction parseOptions(fullHost) {\n    const [protocol, hostName] = fullHost.split('://');\n    const isSecure = protocol === 'https';\n    const [host, portAsString] = hostName.split(':');\n    const port = Number(portAsString);\n    return { host, port, sslEnabled: isSecure };\n}\n/**\n * Class representing Firebase Data Connect\n */\nclass DataConnect {\n    // @internal\n    constructor(app, \n    // TODO(mtewani): Replace with _dataConnectOptions in the future\n    dataConnectOptions, _authProvider, _appCheckProvider) {\n        this.app = app;\n        this.dataConnectOptions = dataConnectOptions;\n        this._authProvider = _authProvider;\n        this._appCheckProvider = _appCheckProvider;\n        this.isEmulator = false;\n        this._initialized = false;\n        this._isUsingGeneratedSdk = false;\n        this._callerSdkType = CallerSdkTypeEnum.Base;\n        if (typeof process !== 'undefined' && process.env) {\n            const host = process.env[FIREBASE_DATA_CONNECT_EMULATOR_HOST_VAR];\n            if (host) {\n                logDebug('Found custom host. Using emulator');\n                this.isEmulator = true;\n                this._transportOptions = parseOptions(host);\n            }\n        }\n    }\n    // @internal\n    _useGeneratedSdk() {\n        if (!this._isUsingGeneratedSdk) {\n            this._isUsingGeneratedSdk = true;\n        }\n    }\n    _setCallerSdkType(callerSdkType) {\n        this._callerSdkType = callerSdkType;\n        if (this._initialized) {\n            this._transport._setCallerSdkType(callerSdkType);\n        }\n    }\n    _delete() {\n        _removeServiceInstance(this.app, 'data-connect', JSON.stringify(this.getSettings()));\n        return Promise.resolve();\n    }\n    // @internal\n    getSettings() {\n        const copy = JSON.parse(JSON.stringify(this.dataConnectOptions));\n        delete copy.projectId;\n        return copy;\n    }\n    // @internal\n    setInitialized() {\n        if (this._initialized) {\n            return;\n        }\n        if (this._transportClass === undefined) {\n            logDebug('transportClass not provided. Defaulting to RESTTransport.');\n            this._transportClass = RESTTransport;\n        }\n        if (this._authProvider) {\n            this._authTokenProvider = new FirebaseAuthProvider(this.app.name, this.app.options, this._authProvider);\n        }\n        if (this._appCheckProvider) {\n            this._appCheckTokenProvider = new AppCheckTokenProvider(this.app, this._appCheckProvider);\n        }\n        this._initialized = true;\n        this._transport = new this._transportClass(this.dataConnectOptions, this.app.options.apiKey, this.app.options.appId, this._authTokenProvider, this._appCheckTokenProvider, undefined, this._isUsingGeneratedSdk, this._callerSdkType);\n        if (this._transportOptions) {\n            this._transport.useEmulator(this._transportOptions.host, this._transportOptions.port, this._transportOptions.sslEnabled);\n        }\n        this._queryManager = new QueryManager(this._transport);\n        this._mutationManager = new MutationManager(this._transport);\n    }\n    // @internal\n    enableEmulator(transportOptions) {\n        if (this._initialized &&\n            !areTransportOptionsEqual(this._transportOptions, transportOptions)) {\n            logError('enableEmulator called after initialization');\n            throw new DataConnectError(Code.ALREADY_INITIALIZED, 'DataConnect instance already initialized!');\n        }\n        this._transportOptions = transportOptions;\n        this.isEmulator = true;\n    }\n}\n/**\n * @internal\n * @param transportOptions1\n * @param transportOptions2\n * @returns\n */\nfunction areTransportOptionsEqual(transportOptions1, transportOptions2) {\n    return (transportOptions1.host === transportOptions2.host &&\n        transportOptions1.port === transportOptions2.port &&\n        transportOptions1.sslEnabled === transportOptions2.sslEnabled);\n}\n/**\n * Connect to the DataConnect Emulator\n * @param dc Data Connect instance\n * @param host host of emulator server\n * @param port port of emulator server\n * @param sslEnabled use https\n */\nfunction connectDataConnectEmulator(dc, host, port, sslEnabled = false) {\n    dc.enableEmulator({ host, port, sslEnabled });\n}\nfunction getDataConnect(appOrOptions, optionalOptions) {\n    let app;\n    let dcOptions;\n    if ('location' in appOrOptions) {\n        dcOptions = appOrOptions;\n        app = getApp();\n    }\n    else {\n        dcOptions = optionalOptions;\n        app = appOrOptions;\n    }\n    if (!app || Object.keys(app).length === 0) {\n        app = getApp();\n    }\n    const provider = _getProvider(app, 'data-connect');\n    const identifier = JSON.stringify(dcOptions);\n    if (provider.isInitialized(identifier)) {\n        const dcInstance = provider.getImmediate({ identifier });\n        const options = provider.getOptions(identifier);\n        const optionsValid = Object.keys(options).length > 0;\n        if (optionsValid) {\n            logDebug('Re-using cached instance');\n            return dcInstance;\n        }\n    }\n    validateDCOptions(dcOptions);\n    logDebug('Creating new DataConnect instance');\n    // Initialize with options.\n    return provider.initialize({\n        instanceIdentifier: identifier,\n        options: dcOptions\n    });\n}\n/**\n *\n * @param dcOptions\n * @returns {void}\n * @internal\n */\nfunction validateDCOptions(dcOptions) {\n    const fields = ['connector', 'location', 'service'];\n    if (!dcOptions) {\n        throw new DataConnectError(Code.INVALID_ARGUMENT, 'DC Option Required');\n    }\n    fields.forEach(field => {\n        if (dcOptions[field] === null || dcOptions[field] === undefined) {\n            throw new DataConnectError(Code.INVALID_ARGUMENT, `${field} Required`);\n        }\n    });\n    return true;\n}\n/**\n * Delete DataConnect instance\n * @param dataConnect DataConnect instance\n * @returns\n */\nfunction terminate(dataConnect) {\n    return dataConnect._delete();\n    // TODO(mtewani): Stop pending tasks\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction registerDataConnect(variant) {\n    setSDKVersion(SDK_VERSION$1);\n    _registerComponent(new Component('data-connect', (container, { instanceIdentifier: settings, options }) => {\n        const app = container.getProvider('app').getImmediate();\n        const authProvider = container.getProvider('auth-internal');\n        const appCheckProvider = container.getProvider('app-check-internal');\n        let newOpts = options;\n        if (settings) {\n            newOpts = JSON.parse(settings);\n        }\n        if (!app.options.projectId) {\n            throw new DataConnectError(Code.INVALID_ARGUMENT, 'Project ID must be provided. Did you pass in a proper projectId to initializeApp?');\n        }\n        return new DataConnect(app, Object.assign(Object.assign({}, newOpts), { projectId: app.options.projectId }), authProvider, appCheckProvider);\n    }, \"PUBLIC\" /* ComponentType.PUBLIC */).setMultipleInstances(true));\n    registerVersion(name, version, variant);\n    // BUILD_TARGET will be replaced by values like esm5, esm2017, cjs5, etc during the compilation\n    registerVersion(name, version, 'esm2017');\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Execute Query\n * @param queryRef query to execute.\n * @returns `QueryPromise`\n */\nfunction executeQuery(queryRef) {\n    return queryRef.dataConnect._queryManager.executeQuery(queryRef);\n}\n/**\n * Execute Query\n * @param dcInstance Data Connect instance to use.\n * @param queryName Query to execute\n * @param variables Variables to execute with\n * @param initialCache initial cache to use for client hydration\n * @returns `QueryRef`\n */\nfunction queryRef(dcInstance, queryName, variables, initialCache) {\n    dcInstance.setInitialized();\n    dcInstance._queryManager.track(queryName, variables, initialCache);\n    return {\n        dataConnect: dcInstance,\n        refType: QUERY_STR,\n        name: queryName,\n        variables\n    };\n}\n/**\n * Converts serialized ref to query ref\n * @param serializedRef ref to convert to `QueryRef`\n * @returns `QueryRef`\n */\nfunction toQueryRef(serializedRef) {\n    const { refInfo: { name, variables, connectorConfig } } = serializedRef;\n    return queryRef(getDataConnect(connectorConfig), name, variables);\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * The generated SDK will allow the user to pass in either the variable or the data connect instance with the variable,\n * and this function validates the variables and returns back the DataConnect instance and variables based on the arguments passed in.\n * @param connectorConfig\n * @param dcOrVars\n * @param vars\n * @param validateVars\n * @returns {DataConnect} and {Variables} instance\n * @internal\n */\nfunction validateArgs(connectorConfig, dcOrVars, vars, validateVars) {\n    let dcInstance;\n    let realVars;\n    if (dcOrVars && 'enableEmulator' in dcOrVars) {\n        dcInstance = dcOrVars;\n        realVars = vars;\n    }\n    else {\n        dcInstance = getDataConnect(connectorConfig);\n        realVars = dcOrVars;\n    }\n    if (!dcInstance || (!realVars && validateVars)) {\n        throw new DataConnectError(Code.INVALID_ARGUMENT, 'Variables required.');\n    }\n    return { dc: dcInstance, vars: realVars };\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Subscribe to a `QueryRef`\n * @param queryRefOrSerializedResult query ref or serialized result.\n * @param observerOrOnNext observer object or next function.\n * @param onError Callback to call when error gets thrown.\n * @param onComplete Called when subscription completes.\n * @returns `SubscriptionOptions`\n */\nfunction subscribe(queryRefOrSerializedResult, observerOrOnNext, onError, onComplete) {\n    let ref;\n    let initialCache;\n    if ('refInfo' in queryRefOrSerializedResult) {\n        const serializedRef = queryRefOrSerializedResult;\n        const { data, source, fetchTime } = serializedRef;\n        initialCache = {\n            data,\n            source,\n            fetchTime\n        };\n        ref = toQueryRef(serializedRef);\n    }\n    else {\n        ref = queryRefOrSerializedResult;\n    }\n    let onResult = undefined;\n    if (typeof observerOrOnNext === 'function') {\n        onResult = observerOrOnNext;\n    }\n    else {\n        onResult = observerOrOnNext.onNext;\n        onError = observerOrOnNext.onErr;\n        observerOrOnNext.onComplete;\n    }\n    if (!onResult) {\n        throw new DataConnectError(Code.INVALID_ARGUMENT, 'Must provide onNext');\n    }\n    return ref.dataConnect._queryManager.addSubscription(ref, onResult, onError, initialCache);\n}\n\n/**\n * Firebase Data Connect\n *\n * @packageDocumentation\n */\nregisterDataConnect();\n\nexport { CallerSdkTypeEnum, DataConnect, MUTATION_STR, MutationManager, QUERY_STR, SOURCE_CACHE, SOURCE_SERVER, areTransportOptionsEqual, connectDataConnectEmulator, executeMutation, executeQuery, getDataConnect, mutationRef, parseOptions, queryRef, setLogLevel, subscribe, terminate, toQueryRef, validateArgs, validateDCOptions };\n\n"],
  "mappings": "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",
  "names": ["SDK_VERSION", "version", "queryRef", "trackedQuery", "result", "mutationRef", "name"]
}
