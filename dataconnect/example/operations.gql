
query ListAvailableRooms($hotelId: UUID!) @auth(level: PUBLIC) {
  rooms(where: {hotel: {id: {eq: $hotelId}}}) {
    id
    roomNumber
    roomType
    status
    dailyRate
    capacity
    hotel {
      id
      name
    }
  }
}

mutation CreateRoom($hotelId: UUID!, $roomNumber: String!, $roomType: String!, $status: String!, $dailyRate: Float!, $capacity: Int) @auth(level: PUBLIC) {
  room_insert(data: {hotelId: $hotelId, roomNumber: $roomNumber, roomType: $roomType, status: $status, dailyRate: $dailyRate, capacity: $capacity})
}

mutation CreateHotel($name: String!, $address: String!, $propertyId: String!) @auth(level: PUBLIC) {
  hotel_insert(data: {name: $name, address: $address, propertyId: $propertyId})
}

mutation UpdateRoomStatus($id: UUID!, $status: String!) @auth(level: PUBLIC) {
  room_update(id: $id, data: {status: $status})
}

mutation CreateGuest($firstName: String!, $lastName: String!, $email: String!) @auth(level: PUBLIC) {
  guest_insert(data: {firstName: $firstName, lastName: $lastName, email: $email})
}

mutation CreateBooking($guestId: UUID!, $hotelId: UUID!, $checkInDate: Date!, $checkOutDate: Date!, $bookingStatus: String!) @auth(level: PUBLIC) {
  booking_insert(data: {guestId: $guestId, hotelId: $hotelId, checkInDate: $checkInDate, checkOutDate: $checkOutDate, bookingStatus: $bookingStatus})
}

query GetFirstHotel @auth(level: PUBLIC) {
  hotels(limit: 1) {
    id
    name
  }
}

query GetHotelById($id: UUID!) @auth(level: PUBLIC) {
  hotel(id: $id) {
    id
    name
    address
    propertyId
  }
}

query ListHotelsByUser($userId: String!) @auth(level: PUBLIC) {
  user(id: $userId) {
    userHotels_on_user {
      hotel {
        id
        name
        address
        propertyId
      }
    }
  }
}

query ListAllHotels @auth(level: PUBLIC) {
  hotels {
    id
    name
    address
    propertyId
  }
}

mutation UpsertUser($id: String!, $email: String!, $role: String!) @auth(level: PUBLIC) {
  user_upsert(data: {id: $id, email: $email, role: $role})
}

mutation LinkUserToHotel($userId: String!, $hotelId: UUID!) @auth(level: PUBLIC) {
  userHotel_insert(data: {userId: $userId, hotelId: $hotelId})
}

